<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"blog.wudinaonao.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":"valine","storage":true,"lazyload":false,"nav":null,"activeClass":"valine"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Naonao Life Record">
<meta property="og:type" content="website">
<meta property="og:title" content="Naonao Blog">
<meta property="og:url" content="https://blog.wudinaonao.com/page/2/index.html">
<meta property="og:site_name" content="Naonao Blog">
<meta property="og:description" content="Naonao Life Record">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="wudinaonao">
<meta property="article:tag" content="wudinaonao">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://blog.wudinaonao.com/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Naonao Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-165348730-2"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-165348730-2');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?a1ff7056e50cd944195678f962b5740b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband">
        
    </div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Naonao Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Welcome to Naonao Blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>å…³äº</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾<span class="badge">37</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»<span class="badge">12</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£<span class="badge">59</span></a>

  </li>
        <li class="menu-item menu-item-ç•™è¨€æ¿">

    <a href="/messagebox/" rel="section"><i class="fas fa-comment fa-fw"></i>ç•™è¨€æ¿</a>

  </li>
        <li class="menu-item menu-item-æ‘„å½±é›†">

    <a href="https://photo.wudinaonao.com/" rel="noopener" target="_blank"><i class="fas fa-camera fa-fw"></i>æ‘„å½±é›†</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>æœç´¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="æœç´¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.wudinaonao.com/2022/02/21/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%89%B9%E5%AE%9A%E7%9A%84-LookupAndOpen-file-%E5%AE%9E%E6%96%BD%E5%A4%B1%E8%B4%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-0.gif">
      <meta itemprop="name" content="wudinaonao">
      <meta itemprop="description" content="Naonao Life Record">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Naonao Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/02/21/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%89%B9%E5%AE%9A%E7%9A%84-LookupAndOpen-file-%E5%AE%9E%E6%96%BD%E5%A4%B1%E8%B4%A5/" class="post-title-link" itemprop="url">æ–‡ä»¶ç³»ç»Ÿç‰¹å®šçš„ LookupAndOpen[file] å®æ–½å¤±è´¥</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2022-02-21 18:33:56" itemprop="dateCreated datePublished" datetime="2022-02-21T18:33:56+08:00">2022-02-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/ESXI/" itemprop="url" rel="index"><span itemprop="name">ESXI</span></a>
                </span>
            </span>

          
            <span id="/2022/02/21/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%89%B9%E5%AE%9A%E7%9A%84-LookupAndOpen-file-%E5%AE%9E%E6%96%BD%E5%A4%B1%E8%B4%A5/" class="post-meta-item leancloud_visitors" data-flag-title="æ–‡ä»¶ç³»ç»Ÿç‰¹å®šçš„ LookupAndOpen[file] å®æ–½å¤±è´¥" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2022/02/21/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%89%B9%E5%AE%9A%E7%9A%84-LookupAndOpen-file-%E5%AE%9E%E6%96%BD%E5%A4%B1%E8%B4%A5/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2022/02/21/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%89%B9%E5%AE%9A%E7%9A%84-LookupAndOpen-file-%E5%AE%9E%E6%96%BD%E5%A4%B1%E8%B4%A5/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>é”™è¯¯æè¿°</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">æ–‡ä»¶ç³»ç»Ÿç‰¹å®šçš„ LookupAndOpen[<span class="keyword">file</span>] å®æ–½å¤±è´¥</span><br><span class="line">æ–‡ä»¶ç³»ç»Ÿç‰¹å®šçš„ LookupAndOpen[<span class="keyword">file</span>] å®æ–½å¤±è´¥</span><br><span class="line">æ–‡ä»¶ç³»ç»Ÿç‰¹å®šçš„ LookupAndOpen[<span class="keyword">file</span>] å®æ–½å¤±è´¥</span><br><span class="line">æ–‡ä»¶ç³»ç»Ÿç‰¹å®šçš„ LookupAndOpen[<span class="keyword">file</span>] å®æ–½å¤±è´¥</span><br><span class="line">æ–‡ä»¶ç³»ç»Ÿç‰¹å®šçš„ LookupAndOpen[<span class="keyword">file</span>] å®æ–½å¤±è´¥</span><br><span class="line">æ–‡ä»¶ç³»ç»Ÿç‰¹å®šçš„ LookupAndOpen[<span class="keyword">file</span>] å®æ–½å¤±è´¥</span><br><span class="line">å¯¹è±¡ç±»å‹éœ€è¦æ‰˜ç®¡çš„ I/O</span><br><span class="line">æ— æ³•æ‰“å¼€ç£ç›˜â€œ<span class="regexp">/vmfs/</span>volumes<span class="regexp">/5ec70d97-8b7959b3-d45b-ecf4bbe3557c/</span>openwrt/openwrt-x86-<span class="number">64</span>-generic-squashfs-combined.vmdkâ€æˆ–å…¶æ‰€ä¾èµ–çš„å¿«ç…§ç£ç›˜ä¹‹ä¸€ã€‚</span><br><span class="line">æ¨¡å—â€œDiskâ€æ‰“å¼€ç”µæºå¤±è´¥ã€‚</span><br><span class="line">æ— æ³•å¯åŠ¨è™šæ‹Ÿæœºã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è§£å†³æ–¹æ¡ˆ, æ‰¾åˆ°å¯¹åº”çš„ç£ç›˜æ–‡ä»¶(å¯ä»¥åœ¨ç½‘é¡µé‡ŒæŸ¥çœ‹åˆ°ç£ç›˜çš„æŒ‚è½½è·¯å¾„)</p>
<p>ä¾‹å¦‚</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[datastore1]</span> openwrt/openwrt-x86-<span class="number">64</span>-generic-squashfs-combined<span class="selector-class">.vmdk</span> </span><br></pre></td></tr></table></figure>

<p>å°è¯•ä¿®å¤</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vmkfstools -x repair <span class="regexp">/vmfs/</span>volumes<span class="regexp">/&lt;datastorepath&gt;/</span>&lt;vm name&gt;/&lt;vm name main base disk&gt;.vmdk</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ‡æ¢åˆ°è¯¥ç›®å½•ä¸‹</span></span><br><span class="line">cd <span class="regexp">/vmfs/</span>volumes<span class="regexp">/datastore1/</span>openwrt</span><br><span class="line"><span class="comment"># ä¿®å¤</span></span><br><span class="line">vmkfstools -x repair openwrt-x86-<span class="number">64</span>-generic-squashfs-combined.vmdk</span><br></pre></td></tr></table></figure>

<p>ç»“æœ</p>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Disk was successfully repaired.</span><br></pre></td></tr></table></figure>

<p>ç£ç›˜ä¿®å¤æˆåŠŸ, å¯ä»¥æ‰“å¼€äº†.</p>
<h3 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h3><blockquote>
<p><a target="_blank" rel="noopener" href="https://kb.vmware.com/s/article/2149438?lang=zh_CN">https://kb.vmware.com/s/article/2149438?lang=zh_CN</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.wudinaonao.com/2021/09/22/Jupyter%E9%85%8D%E5%90%88Nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-0.gif">
      <meta itemprop="name" content="wudinaonao">
      <meta itemprop="description" content="Naonao Life Record">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Naonao Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/09/22/Jupyter%E9%85%8D%E5%90%88Nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">Jupyteré…åˆNginxåå‘ä»£ç†çš„é—®é¢˜</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-09-22 00:30:43" itemprop="dateCreated datePublished" datetime="2021-09-22T00:30:43+08:00">2021-09-22</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/Docker/" itemprop="url" rel="index"><span itemprop="name">Docker</span></a>
                </span>
                  ï¼Œ
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/Docker/Jupyter/" itemprop="url" rel="index"><span itemprop="name">Jupyter</span></a>
                </span>
            </span>

          
            <span id="/2021/09/22/Jupyter%E9%85%8D%E5%90%88Nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-meta-item leancloud_visitors" data-flag-title="Jupyteré…åˆNginxåå‘ä»£ç†çš„é—®é¢˜" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2021/09/22/Jupyter%E9%85%8D%E5%90%88Nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E7%9A%84%E9%97%AE%E9%A2%98/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/09/22/Jupyter%E9%85%8D%E5%90%88Nginx%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86%E7%9A%84%E9%97%AE%E9%A2%98/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="SSL-Error"><a href="#SSL-Error" class="headerlink" title="SSL Error"></a>SSL Error</h1><p>å½“ jupyter é…ç½®äº† SSL æ—¶, Nginx åå‘ä»£ç†æ—¶ä¹Ÿéœ€è¦ç”¨ https åè®®</p>
<p>ä¾‹å¦‚, åå‘ä»£ç†åˆ°æœ¬åœ°çš„ 10000 ç«¯å£</p>
<p>é”™è¯¯ç¤ºèŒƒ</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxy_pass http:<span class="regexp">//</span><span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">10000</span>;</span><br></pre></td></tr></table></figure>

<p>æ­£ç¡®ç¤ºèŒƒ</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxy_pass https:<span class="regexp">//</span><span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">10000</span>;</span><br></pre></td></tr></table></figure>

<h1 id="Websocket-è¿æ¥é—®é¢˜"><a href="#Websocket-è¿æ¥é—®é¢˜" class="headerlink" title="Websocket è¿æ¥é—®é¢˜"></a>Websocket è¿æ¥é—®é¢˜</h1><p>åœ¨åŸºäº Docker éƒ¨ç½² jupyter å·¥ä½œç¯å¢ƒæ—¶, å¯èƒ½ä¼šå‘ç”Ÿå¯ä»¥æ‰“å¼€ç½‘é¡µ, å¯ä»¥åˆ›å»ºæ–‡ä»¶, ä½†æ˜¯æ— æ³•ä¸åç«¯ python è¿æ¥çš„æƒ…å†µ.</p>
<p>æŸ¥çœ‹ jupyter æ—¥å¿—æ˜¾ç¤º</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">jupyter    | [W 2021-09-21 16:09:24.778 ServerApp] 400 <span class="built_in">GET</span> /terminals/websocket/1 (172.27.0.1) 1.21ms <span class="attribute">referer</span>=None</span><br><span class="line">jupyter    | [W 2021-09-21 16:09:26.418 ServerApp] 400 <span class="built_in">GET</span> /terminals/websocket/1 (172.27.0.1) 1.13ms <span class="attribute">referer</span>=None</span><br><span class="line">jupyter    | [W 2021-09-21 16:09:28.696 ServerApp] 400 <span class="built_in">GET</span> /terminals/websocket/1 (172.27.0.1) 1.28ms <span class="attribute">referer</span>=None</span><br><span class="line">jupyter    | [W 2021-09-21 16:09:30.660 ServerApp] 400 <span class="built_in">GET</span> /terminals/websocket/1 (172.27.0.1) 1.24ms <span class="attribute">referer</span>=None</span><br><span class="line">jupyter    | [W 2021-09-21 16:09:37.605 ServerApp] 400 <span class="built_in">GET</span> /terminals/websocket/1 (172.27.0.1) 1.15ms <span class="attribute">referer</span>=None</span><br><span class="line">jupyter    | [W 2021-09-21 16:09:41.758 ServerApp] 400 <span class="built_in">GET</span> /terminals/websocket/1 (172.27.0.1) 1.11ms <span class="attribute">referer</span>=None</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å½“æˆ‘å°è¯•ç”¨ jupyter æä¾›çš„ terminal æ—¶, å‘ç°ä»¥ä¸Šæ—¥å¿—.</p>
<p>è¿™è¯´æ˜è¿™ä¸ªè¯·æ±‚æ²¡æœ‰æˆåŠŸ, 400 çŠ¶æ€ç å‚è€ƒ MDN</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">HTTP</span> <span class="number">400</span> Bad Request å“åº”çŠ¶æ€ç è¡¨ç¤ºç”±äºè¯­æ³•æ— æ•ˆï¼ŒæœåŠ¡å™¨æ— æ³•ç†è§£è¯¥è¯·æ±‚ã€‚ å®¢æˆ·ç«¯ä¸åº”è¯¥åœ¨æœªç»ä¿®æ”¹çš„æƒ…å†µä¸‹é‡å¤æ­¤è¯·æ±‚ã€‚</span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥åº”è¯¥æ˜¯ nginx åœ¨ä¸ jupyter é€šä¿¡æ—¶å‘ç”Ÿäº†é—®é¢˜.</p>
<p>Google â€¦</p>
<p>æ‰¾åˆ°ä»¥ä¸‹è§£å†³æ–¹æ¡ˆ, ä¸€ä¸ªå¯ç”¨çš„ Nginx åå‘ä»£ç†é…ç½®</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="section">location</span> / &#123;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://jupyter;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="section">location</span> <span class="regexp">~* /(api/kernels/[^/]+/(channels|iopub|shell|stdin)|terminals/websocket)/?</span> &#123;</span><br><span class="line">    <span class="attribute">proxy_pass</span> http://jupyter;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"># WebSocket support</span></span><br><span class="line">    <span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line">    <span class="attribute">proxy_set_header</span> Connection <span class="variable">$connection_upgrade</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ³¨æ„æ·»åŠ è¿™ä¸‰é¡¹</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">proxy_http_version</span> <span class="number">1</span>.<span class="number">1</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> Upgrade <span class="variable">$http_upgrade</span>;</span><br><span class="line"><span class="attribute">proxy_set_header</span> Connection <span class="variable">$connection_upgrade</span>;</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒé“¾æ¥</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/jupyter/notebook/issues/625">https://github.com/jupyter/notebook/issues/625</a></p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://jupyter-notebook.readthedocs.io/en/latest/config.html#options">https://jupyter-notebook.readthedocs.io/en/latest/config.html#options</a></p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/400">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/400</a></p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://gist.github.com/cboettig/8643341bd3c93b62b5c2">https://gist.github.com/cboettig/8643341bd3c93b62b5c2</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.wudinaonao.com/2021/05/29/crontab-%E6%8E%92%E9%94%99/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-0.gif">
      <meta itemprop="name" content="wudinaonao">
      <meta itemprop="description" content="Naonao Life Record">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Naonao Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/29/crontab-%E6%8E%92%E9%94%99/" class="post-title-link" itemprop="url">crontab æ’é”™</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-05-29 18:17:25" itemprop="dateCreated datePublished" datetime="2021-05-29T18:17:25+08:00">2021-05-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
            <span id="/2021/05/29/crontab-%E6%8E%92%E9%94%99/" class="post-meta-item leancloud_visitors" data-flag-title="crontab æ’é”™" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2021/05/29/crontab-%E6%8E%92%E9%94%99/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/05/29/crontab-%E6%8E%92%E9%94%99/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h1><p>åœ¨ç”¨ crontab å®šæ—¶å¤‡ä»½ gitlab æ—¶, å‘ç°ä»»åŠ¡æ€»æ˜¯ä¸æˆåŠŸ. ğŸ˜±ğŸ˜±ğŸ˜± </p>
<p>å‘½ä»¤å¦‚ä¸‹</p>
<figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">0 </span><span class="number">0</span> * * * /root/docker/gitlab/backup-gitlab.sh &gt;&gt; /root/docker/gitlab/backup-gitlab.<span class="keyword">log</span> <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•åå‘ç°æ—¥å¿—æ€»æ˜¯æ²¡æœ‰ä»»ä½•è¾“å‡º, è¯´æ˜è¿™ä¸ªå‘½ä»¤æ²¡æœ‰è¢«æ‰§è¡Œ. ğŸ¤”ğŸ¤”ğŸ¤”</p>
<p>éšä¾¿å†™äº†æ¡å‘½ä»¤æµ‹è¯•</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">* * * * * echo <span class="string">&quot;`date`&quot;</span> &gt; <span class="regexp">/root/</span>crontest.<span class="built_in">log</span></span><br></pre></td></tr></table></figure>

<p>å‘ç°æœ‰è¾“å‡ºâ€¦. ğŸ˜²ğŸ˜²ğŸ˜²</p>
<p>é‚£ä¹ˆè¯´æ˜ crontab ç¡®å®å·¥ä½œäº†â€¦. ğŸ˜µğŸ˜µğŸ˜µ</p>
<p>æ²‰æ€â€¦. ğŸ¤”ğŸ¤”ğŸ¤”</p>
<h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><p>è™½ç„¶æˆ‘ä¸å¤ªæ¸…æ¥šæ˜¯ä»€ä¹ˆåŸå› , ä½†æ˜¯å½“æˆ‘æŠŠä»¥ä¸‹é…ç½®åŠ å…¥ crontab åä»–å¼€å§‹å·¥ä½œäº†. ğŸ˜„ğŸ˜„ğŸ˜„</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SHELL=<span class="regexp">/bin/bash</span></span><br><span class="line">PATH=<span class="regexp">/sbin:/bin</span><span class="symbol">:/usr/sbin</span><span class="symbol">:/usr/bin</span></span><br><span class="line">MAILTO=root</span><br><span class="line">HOME=<span class="regexp">/</span></span><br></pre></td></tr></table></figure>

<p>ä¹Ÿè®¸æ˜¯å› ä¸ºæ˜¾å¼æŒ‡å®šäº† shell, ä»¥åŠä¸€äº›å…¶ä»–çš„ä¸€äº›å‚æ•°, å¯¼è‡´å¯ä»¥æ­£å¸¸å·¥ä½œ, å› ä¸ºæˆ‘ä¹‹å‰ä¸€ç›´æ€€ç–‘æ˜¯æƒé™çš„é—®é¢˜. ğŸ¤£ğŸ¤£ğŸ¤£</p>
<p>å‚è€ƒè¿æ¥</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://my.oschina.net/leejun2005/blog/1788342">https://my.oschina.net/leejun2005/blog/1788342</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.wudinaonao.com/2021/05/09/%E7%BC%96%E8%AF%91Openwrt%E4%BB%A5%E5%8F%8A%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-0.gif">
      <meta itemprop="name" content="wudinaonao">
      <meta itemprop="description" content="Naonao Life Record">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Naonao Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/09/%E7%BC%96%E8%AF%91Openwrt%E4%BB%A5%E5%8F%8A%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">ç¼–è¯‘Openwrtä»¥åŠé‡åˆ°çš„é—®é¢˜</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-05-09 21:28:35" itemprop="dateCreated datePublished" datetime="2021-05-09T21:28:35+08:00">2021-05-09</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linuxe/" itemprop="url" rel="index"><span itemprop="name">Linuxe</span></a>
                </span>
            </span>

          
            <span id="/2021/05/09/%E7%BC%96%E8%AF%91Openwrt%E4%BB%A5%E5%8F%8A%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-meta-item leancloud_visitors" data-flag-title="ç¼–è¯‘Openwrtä»¥åŠé‡åˆ°çš„é—®é¢˜" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2021/05/09/%E7%BC%96%E8%AF%91Openwrt%E4%BB%A5%E5%8F%8A%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/05/09/%E7%BC%96%E8%AF%91Openwrt%E4%BB%A5%E5%8F%8A%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ"><a href="#é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ" class="headerlink" title="é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ"></a>é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ</h1><h2 id="you-should-not-run-configure-as-root-set-FORCE-UNSAFE-CONFIGURE-1-in-environment-to-bypass-this-check"><a href="#you-should-not-run-configure-as-root-set-FORCE-UNSAFE-CONFIGURE-1-in-environment-to-bypass-this-check" class="headerlink" title="you should not run configure as root (set FORCE_UNSAFE_CONFIGURE=1 in environment to bypass this check)"></a>you should not run configure as root (set FORCE_UNSAFE_CONFIGURE=1 in environment to bypass this check)</h2><p>é”™è¯¯æç¤º:</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">you should <span class="keyword">not</span> <span class="built_in">run</span> configure as root (<span class="built_in">set</span> <span class="attribute">FORCE_UNSAFE_CONFIGURE</span>=1 <span class="keyword">in</span> environment <span class="keyword">to</span> bypass this check)</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½ ä»¥rootç”¨æˆ·è¿è¡Œç¼–è¯‘, ä¼šæœ‰è¿™ä¸ªæç¤º. æœ‰ä¸¤ä¸ªè§£å†³æ–¹æ¡ˆ, ä½ å¯ä»¥æ¢ä¸€ä¸ªérootç”¨æˆ·, æˆ–è€…æ¥å¿½ç•¥æç¤º.</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> <span class="attribute">FORCE_UNSAFE_CONFIGURE</span>=1</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒé“¾æ¥</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/tx422/article/details/78593860">https://blog.csdn.net/tx422/article/details/78593860</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.wudinaonao.com/2021/05/06/gitlab%E6%9C%AC%E5%9C%B0%E8%87%AA%E5%8A%A8%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-0.gif">
      <meta itemprop="name" content="wudinaonao">
      <meta itemprop="description" content="Naonao Life Record">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Naonao Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/06/gitlab%E6%9C%AC%E5%9C%B0%E8%87%AA%E5%8A%A8%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD/" class="post-title-link" itemprop="url">gitlabæœ¬åœ°è‡ªåŠ¨å®šæ—¶å¤‡ä»½</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-05-06 23:12:15" itemprop="dateCreated datePublished" datetime="2021-05-06T23:12:15+08:00">2021-05-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
            <span id="/2021/05/06/gitlab%E6%9C%AC%E5%9C%B0%E8%87%AA%E5%8A%A8%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD/" class="post-meta-item leancloud_visitors" data-flag-title="gitlabæœ¬åœ°è‡ªåŠ¨å®šæ—¶å¤‡ä»½" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2021/05/06/gitlab%E6%9C%AC%E5%9C%B0%E8%87%AA%E5%8A%A8%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/05/06/gitlab%E6%9C%AC%E5%9C%B0%E8%87%AA%E5%8A%A8%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>é¡¹ç›®åŸºäº docker æ­å»º.</p>
<p>ç¼–è¾‘ gitlab.rb æ–‡ä»¶</p>
<p>è¯¥æ–‡ä»¶åœ¨å®¹å™¨é‡Œçš„è·¯å¾„ä¸º</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/etc/gi</span>tlab/gitlab.rb</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘ä¸€ä¸‹å†…å®¹</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gitlab_rails[<span class="string">&#x27;manage_backup_path&#x27;</span>] = <span class="literal">true</span></span><br><span class="line"><span class="meta"># gitlabå¤‡ä»½ç›®å½•</span></span><br><span class="line">gitlab_rails[<span class="string">&#x27;backup_path&#x27;</span>] = <span class="string">&quot;/var/opt/gitlab/backups&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># ç”Ÿæˆçš„å¤‡ä»½æ–‡ä»¶æƒé™</span></span><br><span class="line">gitlab_rails[<span class="string">&#x27;backup_archive_permissions&#x27;</span>] = <span class="number">0644</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># å¤‡ä»½ä¿ç•™å¤©æ•°ï¼Œç§’è®¡ç®—, 86400 * 7 = 604800 ä¿ç•™ 7 å¤©</span></span><br><span class="line">gitlab_rails[<span class="string">&#x27;backup_keep_time&#x27;</span>] = <span class="number">604800</span></span><br></pre></td></tr></table></figure>

<p>æ›´æ–° gitlab é…ç½®</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">gitlab-ctl reconfigure</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ crontab æ·»åŠ å®šæ—¶ä»»åŠ¡</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">crontab -e</span></span><br></pre></td></tr></table></figure>

<p>æ·»åŠ é…ç½®, æ¯å¤© 0 ç‚¹å¤‡ä»½</p>
<figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">0 </span><span class="number">0</span> * * * /opt/gitlab/bin/gitlab-rake gitlab:backup:create</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å¤‡ä»½æ–‡ä»¶, å¤‡ä»½ç›®å½•åœ¨å®¹å™¨é‡Œçš„è·¯å¾„</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/var/</span>opt<span class="regexp">/gitlab/</span>backups</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd <span class="regexp">/var/</span>opt<span class="regexp">/gitlab/</span>backups</span><br><span class="line">ls</span><br></pre></td></tr></table></figure>


<p>å‚è€ƒé“¾æ¥</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/rdp1305442102/article/details/105768441">https://blog.csdn.net/rdp1305442102/article/details/105768441</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.wudinaonao.com/2021/05/06/Linux%E9%87%8C%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-0.gif">
      <meta itemprop="name" content="wudinaonao">
      <meta itemprop="description" content="Naonao Life Record">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Naonao Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/06/Linux%E9%87%8C%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">Linuxé‡Œè®¾ç½®ç¯å¢ƒå˜é‡çš„æ–¹æ³•</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-05-06 20:03:40" itemprop="dateCreated datePublished" datetime="2021-05-06T20:03:40+08:00">2021-05-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
            <span id="/2021/05/06/Linux%E9%87%8C%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95/" class="post-meta-item leancloud_visitors" data-flag-title="Linuxé‡Œè®¾ç½®ç¯å¢ƒå˜é‡çš„æ–¹æ³•" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2021/05/06/Linux%E9%87%8C%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/05/06/Linux%E9%87%8C%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%9A%84%E6%96%B9%E6%B3%95/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>å®éªŒè·¯å¾„</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/opt/</span>au1200_rm<span class="regexp">/build_tools/</span>bin</span><br></pre></td></tr></table></figure>

<h2 id="ç›´æ¥ç”¨exportå‘½ä»¤"><a href="#ç›´æ¥ç”¨exportå‘½ä»¤" class="headerlink" title="ç›´æ¥ç”¨exportå‘½ä»¤"></a>ç›´æ¥ç”¨exportå‘½ä»¤</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=<span class="variable">$PATH</span><span class="symbol">:/opt/au1200_rm/build_tools/bin</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šå‘½ä»¤å°†å®éªŒè·¯å¾„å¯¼å…¥åˆ°ç¯å¢ƒå˜é‡, ä¸‹æ¬¡ç™»å½•å¤±æ•ˆ</p>
<h2 id="ä¿®æ”¹profileæ–‡ä»¶"><a href="#ä¿®æ”¹profileæ–‡ä»¶" class="headerlink" title="ä¿®æ”¹profileæ–‡ä»¶"></a>ä¿®æ”¹profileæ–‡ä»¶</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano <span class="regexp">/etc/</span>profile</span><br></pre></td></tr></table></figure>

<p>åŠ å…¥</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=<span class="variable">$PATH</span><span class="symbol">:/opt/au1200_rm/build_tools/bin</span></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šå‘½ä»¤å°†å®éªŒè·¯å¾„å¯¼å…¥åˆ°ç¯å¢ƒå˜é‡, ä¸‹æ¬¡ç™»å½•æœ‰æ•ˆ</p>
<h2 id="ä¿®æ”¹-bashrcæ–‡ä»¶"><a href="#ä¿®æ”¹-bashrcæ–‡ä»¶" class="headerlink" title="ä¿®æ”¹.bashrcæ–‡ä»¶"></a>ä¿®æ”¹.bashrcæ–‡ä»¶</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano <span class="regexp">/root/</span>.bashrc</span><br></pre></td></tr></table></figure>

<p>åŠ å…¥</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=<span class="variable">$PATH</span><span class="symbol">:/opt/au1200_rm/build_tools/bin</span></span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šå‘½ä»¤å°†å®éªŒè·¯å¾„å¯¼å…¥åˆ°ç¯å¢ƒå˜é‡, æœªæµ‹è¯•ä¸‹æ¬¡ç™»å½•æ˜¯å¦æœ‰æ•ˆ</p>
<p>å‚è€ƒé“¾æ¥</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/leezx/p/5589941.html">https://www.cnblogs.com/leezx/p/5589941.html</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.wudinaonao.com/2021/05/06/linux-shell-%E4%B8%AD%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%BA%E7%A9%BA%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-0.gif">
      <meta itemprop="name" content="wudinaonao">
      <meta itemprop="description" content="Naonao Life Record">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Naonao Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/06/linux-shell-%E4%B8%AD%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%BA%E7%A9%BA%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">linux shell ä¸­åˆ¤æ–­å­—ç¬¦ä¸²ä¸ºç©ºçš„æ­£ç¡®æ–¹æ³•</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-05-06 20:01:16" itemprop="dateCreated datePublished" datetime="2021-05-06T20:01:16+08:00">2021-05-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
            <span id="/2021/05/06/linux-shell-%E4%B8%AD%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%BA%E7%A9%BA%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%96%B9%E6%B3%95/" class="post-meta-item leancloud_visitors" data-flag-title="linux shell ä¸­åˆ¤æ–­å­—ç¬¦ä¸²ä¸ºç©ºçš„æ­£ç¡®æ–¹æ³•" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2021/05/06/linux-shell-%E4%B8%AD%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%BA%E7%A9%BA%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%96%B9%E6%B3%95/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/05/06/linux-shell-%E4%B8%AD%E5%88%A4%E6%96%AD%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%BA%E7%A9%BA%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%96%B9%E6%B3%95/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="æ­£ç¡®çš„åšæ³•"><a href="#æ­£ç¡®çš„åšæ³•" class="headerlink" title="æ­£ç¡®çš„åšæ³•"></a>æ­£ç¡®çš„åšæ³•</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line">STRING=</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$STRING</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;STRING is empty&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$STRING</span>&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;STRING is not empty&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºæ­£ç¡®çš„ç»“æœ:</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root<span class="symbol">@james</span>-desktop:~<span class="meta"># ./zerostring.sh</span></span><br><span class="line"><span class="built_in">STRING</span> is empty</span><br></pre></td></tr></table></figure>

<h2 id="é”™è¯¯çš„åšæ³•"><a href="#é”™è¯¯çš„åšæ³•" class="headerlink" title="é”™è¯¯çš„åšæ³•"></a>é”™è¯¯çš„åšæ³•</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line">STRING=</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="variable">$STRING</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;STRING is empty&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="variable">$STRING</span> ]; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;STRING is not empty&quot;</span></span><br><span class="line"><span class="keyword">fi</span> </span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºé”™è¯¯ç»“æœï¼š</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@james-desktop:~# ./zerostring.<span class="keyword">sh</span></span><br><span class="line">STRING <span class="keyword">is</span> <span class="built_in">empty</span></span><br><span class="line">STRING <span class="keyword">is</span> not <span class="built_in">empty</span></span><br></pre></td></tr></table></figure>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è®°å¾—åœ¨ç»™å˜é‡åŠ ä¸ŠåŒå¼•å·â€â€</p>
<p>å‚è€ƒé“¾æ¥</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/cute/archive/2011/08/26/2154137.html">https://www.cnblogs.com/cute/archive/2011/08/26/2154137.html</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.wudinaonao.com/2021/05/06/shell%E7%94%A8ssh%E5%9C%A8%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%97%B6%E5%A6%82%E4%BD%95%E9%80%80%E5%87%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-0.gif">
      <meta itemprop="name" content="wudinaonao">
      <meta itemprop="description" content="Naonao Life Record">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Naonao Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/06/shell%E7%94%A8ssh%E5%9C%A8%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%97%B6%E5%A6%82%E4%BD%95%E9%80%80%E5%87%BA/" class="post-title-link" itemprop="url">shellç”¨sshåœ¨è¿œç¨‹ä¸»æœºæ‰§è¡Œå‘½ä»¤æ—¶å¦‚ä½•é€€å‡º</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-05-06 19:54:29" itemprop="dateCreated datePublished" datetime="2021-05-06T19:54:29+08:00">2021-05-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
            <span id="/2021/05/06/shell%E7%94%A8ssh%E5%9C%A8%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%97%B6%E5%A6%82%E4%BD%95%E9%80%80%E5%87%BA/" class="post-meta-item leancloud_visitors" data-flag-title="shellç”¨sshåœ¨è¿œç¨‹ä¸»æœºæ‰§è¡Œå‘½ä»¤æ—¶å¦‚ä½•é€€å‡º" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2021/05/06/shell%E7%94%A8ssh%E5%9C%A8%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%97%B6%E5%A6%82%E4%BD%95%E9%80%80%E5%87%BA/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/05/06/shell%E7%94%A8ssh%E5%9C%A8%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%97%B6%E5%A6%82%E4%BD%95%E9%80%80%E5%87%BA/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>åœ¨ shell è„šæœ¬é‡Œä½¿ç”¨ ssh åœ¨è¿œç¨‹ä¸»æœºæ‰§è¡Œè„šæœ¬æ—¶æ— æ³•å…³é—­è¿æ¥</p>
<p>ä¾‹å¦‚</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ssh</span> user<span class="variable">@ipaddress</span> <span class="string">&#x27;~/my_script.sh&#x27;</span></span><br></pre></td></tr></table></figure>

<p>è„šæœ¬æ‰§è¡Œå®Œæ¯•è¿æ¥ä¸ä¼šå…³é—­, éœ€è¦ä½ æ‰‹åŠ¨ Ctrl + C å…³é—­è¿æ¥.</p>
<p>è§£å†³æ–¹æ¡ˆ </p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ssh</span> user<span class="variable">@ipaddress</span> <span class="string">&#x27;~/my_script.sh &amp;&amp; exit&#x27;</span></span><br></pre></td></tr></table></figure>

<p>å½“ä½ åœ¨è¿œç¨‹ä¸»æœºæ‰§è¡Œçš„è„šæœ¬ç”±æœ¬åœ°ä¸»æœºæ¨é€çš„è¯</p>
<p>ä¾‹å¦‚</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ssh</span> user<span class="variable">@remoteNode</span> &lt; test.sh</span><br></pre></td></tr></table></figure>

<p>ä½ å¯ä»¥åœ¨æœ¬åœ°è„šæœ¬é‡Œæ·»åŠ </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">kill</span> -SIGHUP <span class="variable">$PPID</span></span><br></pre></td></tr></table></figure>

<p>kill æ‰å½“å‰çš„ ssh</p>
<p>ä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´, ä½ å°è¯•æ•è· SSH æ˜¯å¦æˆåŠŸæ‰§è¡Œæ—¶, æ€»æ˜¯å¾—åˆ°å¤±è´¥çš„ç»“æœ.</p>
<p>å‚è€ƒé“¾æ¥</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://superuser.com/questions/207453/ssh-and-shell-through-ssh-how-to-exit?noredirect=1&amp;lq=1">https://superuser.com/questions/207453/ssh-and-shell-through-ssh-how-to-exit?noredirect=1&amp;lq=1</a></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://blog.wudinaonao.com/2021/05/06/SSH%E7%AC%AC%E4%B8%80%E6%AC%A1%E7%99%BB%E5%BD%95%E5%85%8D%E8%BE%93%E5%85%A5yes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar-0.gif">
      <meta itemprop="name" content="wudinaonao">
      <meta itemprop="description" content="Naonao Life Record">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Naonao Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2021/05/06/SSH%E7%AC%AC%E4%B8%80%E6%AC%A1%E7%99%BB%E5%BD%95%E5%85%8D%E8%BE%93%E5%85%A5yes/" class="post-title-link" itemprop="url">SSHç¬¬ä¸€æ¬¡ç™»å½•å…è¾“å…¥yes</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-05-06 19:48:35" itemprop="dateCreated datePublished" datetime="2021-05-06T19:48:35+08:00">2021-05-06</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linuxe/" itemprop="url" rel="index"><span itemprop="name">Linuxe</span></a>
                </span>
            </span>

          
            <span id="/2021/05/06/SSH%E7%AC%AC%E4%B8%80%E6%AC%A1%E7%99%BB%E5%BD%95%E5%85%8D%E8%BE%93%E5%85%A5yes/" class="post-meta-item leancloud_visitors" data-flag-title="SSHç¬¬ä¸€æ¬¡ç™»å½•å…è¾“å…¥yes" title="é˜…è¯»æ¬¡æ•°">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valineï¼š</span>
    
    <a title="valine" href="/2021/05/06/SSH%E7%AC%AC%E4%B8%80%E6%AC%A1%E7%99%BB%E5%BD%95%E5%85%8D%E8%BE%93%E5%85%A5yes/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/05/06/SSH%E7%AC%AC%E4%B8%80%E6%AC%A1%E7%99%BB%E5%BD%95%E5%85%8D%E8%BE%93%E5%85%A5yes/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>è¿æ¥æ—¶åŠ å…¥StrictHostKeyChecking=no</p>
<p>ä¾‹å¦‚</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">ssh</span> -o StrictHostKeyChecking=<span class="literal">no</span> root@<span class="number">192.168.1.100</span></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="wudinaonao"
      src="/images/avatar-0.gif">
  <p class="site-author-name" itemprop="name">wudinaonao</p>
  <div class="site-description" itemprop="description">Naonao Life Record</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">59</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">37</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/wudinaonao" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;wudinaonao" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:wudinaonao250@gmail.com" title="E-Mail â†’ mailto:wudinaonao250@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.youtube.com/channel/UCFX7jvxEj6iH3iZwtf4FWtw?view_as=subscriber" title="YouTube â†’ https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCFX7jvxEj6iH3iZwtf4FWtw?view_as&#x3D;subscriber" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.instagram.com/wudinaonao250/" title="Instagram â†’ https:&#x2F;&#x2F;www.instagram.com&#x2F;wudinaonao250&#x2F;" rel="noopener" target="_blank"><i class="fab fa-instagram fa-fw"></i>Instagram</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.zhihu.com/people/wen-lu-zhao" title="çŸ¥ä¹ â†’ https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;wen-lu-zhao" rel="noopener" target="_blank"><i class="fab fa-quora fa-fw"></i>çŸ¥ä¹</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/zh-CN" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="http://www.beian.miit.gov.cn/" rel="noopener" target="_blank">æ™‹ICPå¤‡20001113å· </a>
      <img src="/images/beian.png" style="display: inline-block;">
  </div>

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Copyright Â© 2020 Naonao Studio All Rights Reserved.</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> å¼ºåŠ›é©±åŠ¨
  </div>

        






<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              Counter('post', '/classes/Counter', { title, url, time: 1 })
                .then(response => response.json())
                .then(() => {
                  leancloudSelector(url).innerText = 1;
                })
                .catch(error => {
                  console.error('Failed to create', error);
                });
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"EurBG3R2dEPassgsKv84FDke-gzGzoHsz","app_key":"JnxaQTx5D6cf5KLNxfsylE65","server_url":null,"security":false};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  




  
<script src="/js/local-search.js"></script>









<script>
document.querySelectorAll('.pdfobject-container').forEach(element => {
  let url = element.dataset.target;
  let pdfOpenParams = {
    navpanes : 0,
    toolbar  : 0,
    statusbar: 0,
    pagemode : 'thumbs',
    view     : 'FitH'
  };
  let pdfOpenFragment = '#' + Object.entries(pdfOpenParams).map(([key, value]) => `${key}=${encodeURIComponent(value)}`).join('&');
  let fullURL = `/lib/pdf/web/viewer.html?file=${encodeURIComponent(url)}${pdfOpenFragment}`;

  if (NexT.utils.supportsPDFs()) {
    element.innerHTML = `<embed class="pdfobject" src="${url + pdfOpenFragment}" type="application/pdf" style="height: ${element.dataset.height};">`;
  } else {
    element.innerHTML = `<iframe src="${fullURL}" style="height: ${element.dataset.height};" frameborder="0"></iframe>`;
  }
});
</script>




  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'EurBG3R2dEPassgsKv84FDke-gzGzoHsz',
      appKey     : 'JnxaQTx5D6cf5KLNxfsylE65',
      placeholder: "è¯´ç‚¹ä»€ä¹ˆ",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
